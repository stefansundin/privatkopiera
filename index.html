---
---
<!DOCTYPE html>
<html>
{% include head.html %}
<body class="pad">
  <header>
    <img src="img/icon128.png" width="150" height="133" alt="{{ site.title }} Icon" itemprop="image">
    <h1 itemprop="name">{{ site.title }}</h1>
    <h2 itemprop="description">{{ site.description }}</h2>
  </header>

  <div class="text-center btn-group-lg">
    <a class="btn btn-default" href="https://chrome.google.com/webstore/detail/{{ site.extension_name }}/{{ site.extension_id }}" id="chrome-button"><span class="glyphicon glyphicon-download-alt"></span> Chrome</a>
    <a class="btn btn-default" href="https://addons.mozilla.org/firefox/addon/{{ site.extension_name }}/" id="firefox-button"><span class="glyphicon glyphicon-download-alt"></span> Firefox</a>
    <a class="btn btn-default" href="{{ site.github.repository_url }}"><span class="glyphicon glyphicon-new-window"></span> Källkod</a>
  </div>

  <div class="text-center hidden" id="browser-warning">
    <h3><strong>Observera:</strong> Tillägget fungerar med <a href="https://www.google.com/chrome/">Chrome</a> och <a href="https://getfirefox.com/">Firefox</a>!</h3>
  </div>

  <div class="container">
    <h2 id="intro">Hur fungerar Privatkopiera?</h2>

    <p>Tillägget tar reda på vilka addresser du kan använda för att ladda ned videoklipp från ett antal Play-tjänster.</p>

    <p>Privatkopiera kräver att du vet hur man använder FFmpeg. Det är egentligen väldigt enkelt. Följ dessa steg:</p>

    <ol>
      <li>Hitta en video på svtplay.se som du vill ladda ned.</li>
      <li>Öppna Privatkopiera genom att klicka på VHS-ikonen till höger om addressfältet. <img src="img/launcher.png"></li>
      <li>Vänta några sekunder tills tillägget hittar strömmen.</li>
      <li>Klicka på knappen <i>Kopiera kommando</i>.</li>
      <li>Klistra in kommandot i en terminal (t.ex. <tt>cmd.exe</tt> i Windows). Tryck enter.</li>
      <li>Förhoppningsvis har du filen nedladdad efter några minuter.</li>
    </ol>

    <p>Senaste versionen stöder:</p>

    <ul>
      <li><a href="https://www.svtplay.se/">svtplay.se</a> (även direktsändningar)</li>
      <li><a href="https://www.svt.se/">svt.se</a></li>
      <li><a href="https://www.oppetarkiv.se/">oppetarkiv.se</a></li>
      <li><a href="https://sverigesradio.se/">sverigesradio.se</a></li>
      <li><a href="https://urplay.se/">urplay.se</a></li>
      <li><a href="https://urskola.se/">urskola.se</a></li>
      <li><a href="https://www.tv4.se/">tv4.se</a></li>
      <li><a href="https://www.tv4play.se/">tv4play.se</a> (ej premium/direktsändningar)</li>
    </ul>

    <p></p>
    <p></p>

    <p>Om du tycker om tillägget, lämna gärna en recension för <a href="https://chrome.google.com/webstore/detail/{{ site.extension_name }}/{{ site.extension_id }}/reviews">Chrome-tillägget</a> eller <a href="https://addons.mozilla.org/firefox/addon/{{ site.extension_name }}/reviews/add">Firefox-tillägget</a>. Tack!</p>

    <p>Svara på <a href="https://goo.gl/forms/gZKoMuXklI">en kort undersökning</a> för att hjälpa mig bestämma vilka sidor tillägget ska stödja härnäst. <a href="https://docs.google.com/spreadsheets/d/1WFd5RIzHaTcnwWo41BQ8YMffX8FBn4_g9_bLdFxZfTY/pubhtml">Läs svar här</a>.</p>


    <h2 id="donate">Donera</h2>

    <p>Donera för att få mig att programmera mer på Privatkopiera!</p>

    <form method="post" action="https://www.paypal.com/cgi-bin/webscr" track="donate" target="_blank" class="form-inline">
      <input type="hidden" name="cmd" value="_xclick">
      <input type="hidden" name="business" value="KYMVEK692RF5Q">
      <input type="hidden" name="item_name" value="{{ site.title }}">
      <input type="hidden" name="item_number" value="{{ site.title }}">
      <input type="hidden" name="no_shipping" value="1">
      <input type="hidden" name="return" value="https://stefansundin.github.io/thx">
      <input type="hidden" name="cbt" value="Learn why you just became awesome">
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-addon">$</div>
          <input type="hidden" name="currency_code" value="USD">
          <input class="form-control" type="text" name="amount" value="5.00" pattern="\d+\.?\d*" placeholder="Summa (i dollar)">
        </div>
      </div>
      <input class="btn btn-success" type="submit" value="Donera med PayPal">
    </form>

    <p><small><a class="expander" expand="donation-options">Visa andra doneringsalternativ: Bitcoin, Square Cash.</a></small></p>
    <div id="donation-options">
      <p>Andra doneringsalternativ:</p>
      <ul>
        <li>Bitcoin: <tt>1EhDUbc5MjC6JavC6idKiTCxnqSxY2sbTX</tt> (<a href="img/btc-qr.png">QR kod</a>)</li>
        <li>Square Cash: <a href="https://cash.me/$StefanSundin">$StefanSundin</a></li>
      </ul>
      <p>Kontakta mig på <a fubar>stefaNStefansundinCom</a> om du vill donera på annat sätt.</p>
    </div>


    <h2 id="news">Nyheter <a href="feed.xml"><img src="img/feed.png" alt="RSS flöde"></a></h2>

    <p>Observera att Firefox har en obligatorisk granskningsprocess vid uppdatering av tillägg. Därför kommer Firefox-versionen ut några dagar efter nyheten är skriven.</p>

    {% for post in site.posts limit:2 %}
    <p><strong>{{ post.date | date: "%Y-%m-%d" }} - {{ post.title }}</strong></p>
    <div class="post-body">{{ post.content }}</div>
    {% endfor %}

    <p><a href="news/">Läs äldre nyheter...</a></p>

    <h2 id="ffmpeg">Installera FFmpeg</h2>

    <p>FFmpeg är ett program för som används för konverting av videofiler, men det kan även ladda ned videoströmmar. Notera att för vissa strömmar krävs AdobeHDS.php istället (se nedan).</p>

    <p>Du kan ladda ned FFmpeg till Linux, Windows och Mac från <a href="http://ffmpeg.org/download.html">ffmpeg.org</a>. Det är enklast om du väljer "static build". Om du använder pakethanterare på din dator kan det däremot vara enklare (se nedan).</p>

    <p>Du kan antingen lägga ffmpeg filen i samma mapp som du exekverar kommandot ifrån, eller lägga filen i din <tt>PATH</tt>. I Linux och Mac måste du då använda <tt>./ffmpeg</tt> när du startar en nedladdning. I Windows kan du flytta <tt>ffmpeg.exe</tt> till <tt>C:\WINDOWS\</tt> som redan finns i <tt>PATH</tt>.</p>

    <p><strong>Obs:</strong> Kör helst inte kommandon från <tt>C:\</tt>. I nya versioner av Windows så är det begränsat vilka användare som kan skriva här. Jag rekommenderar att du kör kommandon från ditt skrivbord.</p>

    <p>I Debian och Ubuntu:</p>

{% highlight shell %}
sudo apt-get install ffmpeg
{% endhighlight %}

    <p>I Mac OS X med <a href="https://brew.sh/">Homebrew</a>:</p>

{% highlight shell %}
brew install ffmpeg
{% endhighlight %}


    <h2 id="adobehds">Installera AdobeHDS</h2>

    <p>Det finns stöd för att hitta AdobeHDS-strömmar (<tt>manifest.f4m</tt>). Det enklaste sättet jag har hittat att ladda ned dessa är att använda ett php-script kallat <a href="https://github.com/K-S-V/Scripts/blob/master/AdobeHDS.php">AdobeHDS.php</a> för att ladda ned dem (<a href="https://github.com/K-S-V/Scripts/wiki">mer information</a>).</p>

    <p>Scriptet kräver att ett antal tillägg i PHP är aktiverade.</p>

    <p>I Ubuntu kan du köra följande kommandon för att få det hela att fungera:</p>

{% highlight shell %}
sudo apt-get install php-cli php-bcmath php-curl php-mcrypt php-xml
wget https://raw.githubusercontent.com/K-S-V/Scripts/master/AdobeHDS.php
php AdobeHDS.php ...
{% endhighlight %}

    <p>I Mac OS X med <a href="https://brew.sh/">Homebrew</a>:</p>

{% highlight shell %}
brew install homebrew/php/php70 homebrew/php/php70-mcrypt
curl https://raw.githubusercontent.com/K-S-V/Scripts/master/AdobeHDS.php > AdobeHDS.php
{% endhighlight %}


    <h2 id="socks">SOCKS Proxy</h2>

    <p>Du kan använda <tt>tsocks</tt> för att ladda ned via en SOCKS server, t.ex. om du befinner dig utomlands och inte kan se vissa program. Du måste ha en SSH server i Sverige.</p>

    <p>Exempel för Ubuntu:</p>

{% highlight shell %}
sudo apt-get install tsocks
sudo vim /etc/tsocks.conf
# Längst ned i filen, ändra detta:
# server = 127.0.0.1
# server_port = 1080
ssh server_i_sverige.se -D 1080
{% endhighlight %}

    <p>Öppna en till terminal och kör FFmpeg-kommandot med <tt>tsocks</tt>:</p>

{% highlight shell %}
tsocks ffmpeg -i ...
{% endhighlight %}

    <p>Chrome kan inte hämta listan med strömmar för vissa program om du befinner dig utomlands. Det går bra att använda <tt>master.m3u8</tt>, men du får inte högsta kvalitén. Du kan starta Chrome så här för att gå runt det:</p>

{% highlight shell %}
google-chrome --proxy-server="socks5://127.0.0.1:1080"
{% endhighlight %}

    <p>Om du använder Mac OS X:</p>

{% highlight shell %}
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --proxy-server="socks5://127.0.0.1:1080"
{% endhighlight %}

    <p>I Firefox är det enklare att använda SOCKS. Öppna <i>Inställningar</i> » <i>Avancerat</i> » <i>Nätverk</i> » <i>Inställningar</i> och kryssa sedan för <i>Manuell proxykonfiguration</i>. Skriv in <tt>localhost</tt> som <i>SOCKS-värd</i> och använd port <tt>1080</tt>. Det är väldigt enkelt att glömma bort den här inställningen! Om du får proxy-fel senare så beror det nog på att du har glömt att återställa inställningen.</p>


    <h2 id="http_proxy">HTTP Proxy</h2>

    <p>I Windows och Mac fungerar inte <tt>tsocks</tt>, så det är lite svårare att använda FFmpeg med en SOCKS server. FFmpeg stödjer däremot en vanlig HTTP proxy genom att sätta variabeln <tt>http_proxy</tt>. Exempel för Windows:</p>

{% highlight shell %}
set http_proxy=http://server_i_sverige:3128/
ffmpeg -i ...
{% endhighlight %}

    <p>Om du redan har en server med SSH så kan du port-forwarda en lokal port till en HTTP proxy på din Linux server, via din SSH-anslutning. Då behöver du inte oroa dig om att lämna proxy porten öppen för alla. Ett program som gör detta som standard är squid. I Ubuntu kan du installera squid med följande kommandon:</p>

{% highlight shell %}
sudo apt-get install squid
{% endhighlight %}

    <p>Nu måste du skicka vidare en lokal port på din dator till squid på din server. I Windows kan du använda <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY</a> och ställa in det i <i>Connection</i> » <i>SSH</i> » <i>Tunnels</i>. Skriv in <tt>3128</tt> som <i>Source port</i> och <tt>127.0.0.1:3128</tt> som <i>Destination</i>. Lämna <i>Local</i> ikryssad. Klicka sedan <i>Add</i>. <a href="img/putty.png">Se bild för exempel</a>.</p>

    <p>Efter detta kan du använda <tt>127.0.0.1</tt> istället för <tt>server_i_sverige</tt> i exemplet ovan:</p>

{% highlight shell %}
set http_proxy=http://127.0.0.1:3128/
ffmpeg -i ...
{% endhighlight %}

    <p>I Mac eller Linux ansluter du med:</p>

{% highlight shell %}
ssh server_i_sverige.se -L 3128:127.0.0.1:3128
{% endhighlight %}

    <p>I Mac eller Linux använder du <tt>export</tt> istället för <tt>set</tt>.</p>

    <p>Om du har en SOCKS-anslutning men du kan inte installera squid på servern så kan du installera en HTTP proxy lokalt som kan skicka HTTP över SOCKS. Ett exempel på program som kan göra detta är privoxy. För att installera på Mac kan du köra följande kommandon:</p>

{% highlight shell %}
ssh server_i_sverige.se -D 1080
brew install privoxy
echo "forward-socks5 / localhost:1080 ." >> /usr/local/etc/privoxy/config
brew services start privoxy
export http_proxy=http://127.0.0.1:8118/
ffmpeg -i ...
{% endhighlight %}


    <h2 id="other_programs">Andra program</h2>

    <ul>
      <li><a href="http://www.pirateplay.se/">Pirateplay</a></li>
      <li><a href="https://github.com/spaam/svtplay-dl">svtplay-dl</a></li>
      <li><a href="https://github.com/rg3/youtube-dl">youtube-dl</a></li>
      <li><a href="https://chiselapp.com/user/jesper/repository/teve/index">teve</a></li>
    </ul>
  </div>

  <script src="js/browser.js"></script>
  <script src="js/ana.js"></script>
  <script src="js/fubar.js"></script>
  <script src="js/expander.js"></script>
  <script src="js/paypal.js"></script>
</body>
</html>
