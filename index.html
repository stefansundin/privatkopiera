---
---
<!DOCTYPE html>
<html>
{% include head.html %}
<body class="pad">
  <header>
    <img src="img/icon128.png" width="150" height="133" alt="{{ site.title }} Icon" itemprop="image">
    <h1 itemprop="name">{{ site.title }}</h1>
    <h2 itemprop="description">{{ site.description }}</h2>
  </header>

  <div class="text-center btn-group-lg">
    <a class="btn btn-light" href="https://chrome.google.com/webstore/detail/{{ site.extension_name }}/{{ site.extension_id }}" id="chrome-button">
      <svg width="1em" height="1em"><use xlink:href="#bi-download" /></svg>
      Chrome
    </a>
    <a class="btn btn-light" href="https://addons.mozilla.org/firefox/addon/{{ site.extension_name }}/" id="firefox-button">
      <svg width="1em" height="1em"><use xlink:href="#bi-download" /></svg>
      Firefox
    </a>
    <a class="btn btn-light" href="{{ site.github.repository_url }}">
      <svg width="1em" height="1em"><use xlink:href="#bi-box-arrow-up-right" /></svg>
      Källkod
    </a>
  </div>

  <div class="text-center d-none" id="browser-warning">
    <h3><strong>Observera:</strong> Tillägget fungerar med <a href="https://www.google.com/chrome/">Chrome</a> och <a href="https://getfirefox.com/">Firefox</a>!</h3>
  </div>

  <div class="container">
    <h2 id="intro">Hur fungerar Privatkopiera?</h2>

    <p>Tillägget tar reda på vilka addresser du kan använda för att ladda ned videoklipp från ett antal Play-tjänster.</p>

    <p>Privatkopiera kräver att du vet hur man använder FFmpeg (se <a href="#ffmpeg">Installera FFmpeg</a>). Det är egentligen väldigt enkelt. Följ dessa steg:</p>

    <ol>
      <li>Hitta en video på svtplay.se som du vill ladda ned.</li>
      <li>Öppna Privatkopiera genom att klicka på VHS-ikonen till höger om addressfältet. <img src="img/launcher.png"></li>
      <li>Vänta några sekunder tills tillägget hittar strömmen.</li>
      <li>Klicka på knappen <i>Kopiera kommando</i>.</li>
      <li>Klistra in kommandot i en terminal (t.ex. <tt>cmd.exe</tt> i Windows, använd högerklick för att klistra in). Tryck enter.</li>
      <li>Förhoppningsvis har du filen nedladdad efter några minuter.</li>
    </ol>

    <p>Senaste versionen stöder:</p>

    <ul>
      <li><a href="https://www.svtplay.se/">svtplay.se</a> (även direktsändningar)</li>
      <li><a href="https://www.svt.se/">svt.se</a></li>
      <li><a href="https://www.oppetarkiv.se/">oppetarkiv.se</a></li>
      <li><a href="https://sverigesradio.se/">sverigesradio.se</a></li>
      <li><a href="https://urplay.se/">urplay.se</a></li>
      <li><a href="https://urskola.se/">urskola.se</a></li>
      <li><a href="https://www.tv4.se/">tv4.se</a></li>
      <li><a href="https://www.tv4play.se/">tv4play.se</a> (ej premium/direktsändningar)</li>
      <li><a href="https://tv.nrk.no/">tv.nrk.no</a> och <a href="https://radio.nrk.no/">radio.nrk.no</a></li>
    </ul>

    <p></p>
    <p></p>

    <p>Om du tycker om tillägget, lämna gärna en recension för <a href="https://chrome.google.com/webstore/detail/{{ site.extension_name }}/{{ site.extension_id }}/reviews">Chrome-tillägget</a> eller <a href="https://addons.mozilla.org/firefox/addon/{{ site.extension_name }}/reviews/add">Firefox-tillägget</a>. Tack!</p>

    <p>Svara på <a href="https://goo.gl/forms/gZKoMuXklI">en kort undersökning</a> för att hjälpa mig bestämma vilka sidor tillägget ska stödja härnäst. <a href="https://docs.google.com/spreadsheets/d/1WFd5RIzHaTcnwWo41BQ8YMffX8FBn4_g9_bLdFxZfTY/pubhtml">Läs svar här</a>.</p>


    <h2 id="donate">Donera</h2>

    <p>Donera för att få mig att programmera mer på Privatkopiera!</p>

    <form method="post" action="https://www.paypal.com/cgi-bin/webscr" track="donate" target="_blank" class="form-inline">
      <input type="hidden" name="cmd" value="_xclick">
      <input type="hidden" name="business" value="KYMVEK692RF5Q">
      <input type="hidden" name="item_name" value="{{ site.title }}">
      <input type="hidden" name="item_number" value="{{ site.title }}">
      <input type="hidden" name="no_shipping" value="1">
      <input type="hidden" name="return" value="https://stefansundin.github.io/thx">
      <input type="hidden" name="cbt" value="Learn why you just became awesome">
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">$</span>
          </div>
          <input type="hidden" name="currency_code" value="USD">
          <input class="form-control" type="text" name="amount" value="5.00" pattern="\d+\.?\d*" placeholder="Summa (i dollar)">
        </div>
      </div>
      <input class="btn btn-success" type="submit" value="Donera med PayPal">
    </form>

    <p>Du kan också stödja mig genom <a target="_blank" href="https://github.com/sponsors/stefansundin">GitHub Sponsoring</a>, eller genom <a target="_blank" href="https://www.patreon.com/stefansundin">Patreon</a>.</p>

    <p><small><a class="expander" expand="donation-options">Visa andra doneringsalternativ: Bitcoin.</a></small></p>
    <div id="donation-options">
      <p>Andra doneringsalternativ:</p>
      <ul>
        <li>Bitcoin: <tt>1EhDUbc5MjC6JavC6idKiTCxnqSxY2sbTX</tt> (<a href="img/btc-qr.png">QR kod</a>)</li>
      </ul>
      <p>Kontakta mig på <a fubar>stefaNStefansundinCom</a> om du vill donera på annat sätt.</p>
    </div>


    <h2 id="news">Nyheter <a href="feed.xml"><img src="img/feed.png" alt="RSS flöde"></a></h2>

    <p>Observera att Chrome har en obligatorisk granskningsprocess för nya versioner. Därför får Chrome uppdateringen först några dagar efter att nyheten är skriven.</p>

    {% for post in site.posts limit:2 %}
    <p><strong>{{ post.date | date: "%Y-%m-%d" }} - {{ post.title }}</strong></p>
    <div class="post-body">{{ post.content }}</div>
    {% endfor %}

    <p><a href="news/">Läs äldre nyheter...</a></p>

    <h2 id="ffmpeg">Installera FFmpeg</h2>

    <p>FFmpeg är ett program för som används för konvertering av videofiler, men det kan även ladda ned videoströmmar. Notera att för vissa strömmar krävs AdobeHDS.php istället (se nedan).</p>

    <p>Du kan ladda ned FFmpeg till Linux och Mac med pakethanterare (se nedan). Till Windows kan du ladda ned från <a href="http://ffmpeg.org/download.html">ffmpeg.org</a>. Det är enklast om du väljer "static build" (i detta fall behöver du bara filen <tt>ffmpeg.exe</tt>). Om du har svårt att hitta nedladdningen för Windows, så testa den här: <a href="https://ffmpeg.zeranoe.com/builds/win64/static/ffmpeg-4.2.2-win64-static.zip">ffmpeg-4.2.2-win64-static.zip</a></p>

    <p>Du kan antingen lägga ffmpeg filen i samma mapp som du exekverar kommandot ifrån, eller lägga filen i din <tt>PATH</tt>. I Linux och Mac måste du då använda <tt>./ffmpeg</tt> när du startar en nedladdning. I Windows kan du flytta <tt>ffmpeg.exe</tt> till <tt>C:\Windows\</tt> som redan finns i <tt>PATH</tt>.</p>

    <p><strong>Obs:</strong> ffmpeg spottar gärna (och ofta) ur sig varningar. Om programmet fortsätter att köra så bör du ta det lungt, det finns en bra chans att det fungerar ändå. Ha tålamod och ge det en stund.</p>

    <p><strong>Obs:</strong> Kör inte kommandon från <tt>C:\</tt> (eller <tt>C:\Windows\</tt>). I nya versioner av Windows så kan inte vanliga användare skriva här. Jag rekommenderar att du kör kommandon från ditt skrivbord. För att navigera till skrivbordet, skriv först "<tt>cd&nbsp;Skrivbord</tt>".</p>

    <p><a href="img/cmd.png">Se bild med exempel för Windows.</a></p>

    <p>I Debian och Ubuntu:</p>

{% highlight shell %}
sudo apt-get install ffmpeg
{% endhighlight %}

    <p>I Mac med <a href="https://brew.sh/">Homebrew</a>:</p>

{% highlight shell %}
brew install ffmpeg
{% endhighlight %}


    <h2 id="adobehds">Installera AdobeHDS</h2>

    <p>Det finns stöd för att hitta AdobeHDS-strömmar (<tt>manifest.f4m</tt>). Det enklaste sättet jag har hittat att ladda ned dessa är att använda ett php-script kallat <a href="https://github.com/K-S-V/Scripts/blob/master/AdobeHDS.php">AdobeHDS.php</a> för att ladda ned dem (<a href="https://github.com/K-S-V/Scripts/wiki">mer information</a>).</p>

    <p>Scriptet kräver att ett antal tillägg i PHP är aktiverade.</p>

    <p>I Ubuntu kan du köra följande kommandon för att få det hela att fungera:</p>

{% highlight shell %}
sudo apt-get install php-cli php-bcmath php-curl php-xml
wget https://raw.githubusercontent.com/K-S-V/Scripts/master/AdobeHDS.php
php AdobeHDS.php ...
{% endhighlight %}

    <p>Mac kommer förinstallerat med php:</p>

{% highlight shell %}
curl https://raw.githubusercontent.com/K-S-V/Scripts/master/AdobeHDS.php > AdobeHDS.php
php AdobeHDS.php ...
{% endhighlight %}

    <p>Om du vill ladda ned en ström med lägre kvalité, använd <tt>--quality low</tt>.</p>


    <h2 id="tips">Tips vid dålig uppkoppling</h2>
    <p>Använd AdobeHDS då det går, då den kan återuppta avbrytna nedladdningar. Använd <tt>--parallel 1</tt> och <tt>--quality low</tt>.</p>

    <h2 id="socks">SOCKS Proxy</h2>

    <p>Du kan använda <tt>tsocks</tt> för att ladda ned via en SOCKS server, t.ex. om du befinner dig utomlands och inte kan se vissa program. Du måste ha en SSH server i Sverige (routrar har ofta stöd för SSH server).</p>

    <p>Exempel för Ubuntu:</p>

{% highlight shell %}
sudo apt-get install tsocks
sudo vim /etc/tsocks.conf
# Längst ned i filen, ändra detta:
# server = 127.0.0.1
# server_port = 1080
ssh server_i_sverige.se -D 1080
{% endhighlight %}

    <p>Öppna en till terminal och kör FFmpeg-kommandot med <tt>tsocks</tt>:</p>

{% highlight shell %}
tsocks ffmpeg -i ...
{% endhighlight %}

    <p>Chrome kan inte hämta listan med strömmar för vissa program om du befinner dig utomlands. Det går bra att använda <tt>master.m3u8</tt>, men du får inte högsta kvalitén. Du kan starta Chrome så här för att gå runt det:</p>

{% highlight shell %}
google-chrome --proxy-server="socks5://127.0.0.1:1080"
{% endhighlight %}

    <p>Om du använder Mac:</p>

{% highlight shell %}
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --proxy-server="socks5://127.0.0.1:1080"
{% endhighlight %}

    <p>I Firefox är det enklare att använda SOCKS. Öppna <i>Inställningar</i> och sök efter "<i>socks</i>". Klicka på knappen <i>Inställningar...</i> och kryssa för <i>Manuell proxykonfiguration</i>. Skriv in <tt>localhost</tt> som <i>SOCKS-värd</i> och använd port <tt>1080</tt>. Det är väldigt enkelt att glömma bort den här inställningen! Om du får proxy-fel senare så beror det nog på att du har glömt att återställa inställningen.</p>


    <h2 id="http_proxy">HTTP Proxy</h2>

    <p>I Windows och Mac fungerar inte <tt>tsocks</tt>, så det är lite svårare att använda FFmpeg med en SOCKS server. FFmpeg stöder däremot en vanlig HTTP proxy genom att sätta variabeln <tt>http_proxy</tt>. Exempel för Windows:</p>

{% highlight shell %}
set http_proxy=http://server_i_sverige:3128/
ffmpeg -i ...
{% endhighlight %}

    <p>Om du redan har en server med SSH så kan du port-forwarda en lokal port till en HTTP proxy på din Linux server, via din SSH-anslutning. Då behöver du inte oroa dig om att lämna proxy porten öppen för alla. Ett program som gör detta som standard är squid. I Ubuntu kan du installera squid med följande kommandon:</p>

{% highlight shell %}
sudo apt-get install squid
{% endhighlight %}

    <p>Nu måste du skicka vidare en lokal port på din dator till squid på din server. I Windows kan du använda <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY</a> och ställa in det i <i>Connection</i> » <i>SSH</i> » <i>Tunnels</i>. Skriv in <tt>3128</tt> som <i>Source port</i> och <tt>127.0.0.1:3128</tt> som <i>Destination</i>. Lämna <i>Local</i> ikryssad. Klicka sedan <i>Add</i>. <a href="img/putty.png">Se bild med exempel</a>.</p>

    <p>Efter detta kan du använda <tt>127.0.0.1</tt> istället för <tt>server_i_sverige</tt> i exemplet ovan:</p>

{% highlight shell %}
set http_proxy=http://127.0.0.1:3128/
ffmpeg -i ...
{% endhighlight %}

    <p>I Mac eller Linux ansluter du med:</p>

{% highlight shell %}
ssh server_i_sverige.se -L 3128:127.0.0.1:3128
{% endhighlight %}

    <p>I Mac eller Linux använder du <tt>export</tt> istället för <tt>set</tt>.</p>

    <p>Om du har en SOCKS-anslutning men du kan inte installera squid på servern så kan du installera en HTTP proxy lokalt som kan skicka HTTP över SOCKS. Ett exempel på program som kan göra detta är privoxy. För att installera på Mac kan du köra följande kommandon:</p>

{% highlight shell %}
ssh server_i_sverige.se -D 1080
brew install privoxy
echo "forward-socks5 / localhost:1080 ." >> /usr/local/etc/privoxy/config
brew services start privoxy
export http_proxy=http://127.0.0.1:8118/
ffmpeg -i ...
{% endhighlight %}

    <p>AdobeHDS stöder tyvärr inte <tt>http_proxy</tt> variabeln, men du kan använda följande argument:</p>

{% highlight shell %}
php AdobeHDS.php ... --fproxy --proxy http://127.0.0.1:8118/
{% endhighlight %}

    <h2 id="other_programs">Andra program</h2>

    <ul>
      <li><a href="https://svtplay-dl.se/">svtplay-dl</a></li>
      <li><a href="https://ytdl-org.github.io/youtube-dl/">youtube-dl</a></li>
    </ul>
  </div>

  <div class="d-none">
    <svg id="bi-download" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-download" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M.5 8a.5.5 0 0 1 .5.5V12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8.5a.5.5 0 0 1 1 0V12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8.5A.5.5 0 0 1 .5 8z"/>
      <path fill-rule="evenodd" d="M5 7.5a.5.5 0 0 1 .707 0L8 9.793 10.293 7.5a.5.5 0 1 1 .707.707l-2.646 2.647a.5.5 0 0 1-.708 0L5 8.207A.5.5 0 0 1 5 7.5z"/>
      <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0v-8A.5.5 0 0 1 8 1z"/>
    </svg>
    <svg id="bi-box-arrow-up-right" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-box-arrow-up-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M1.5 13A1.5 1.5 0 0 0 3 14.5h8a1.5 1.5 0 0 0 1.5-1.5V9a.5.5 0 0 0-1 0v4a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 0 0-1H3A1.5 1.5 0 0 0 1.5 5v8zm7-11a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V2.5H9a.5.5 0 0 1-.5-.5z"/>
      <path fill-rule="evenodd" d="M14.354 1.646a.5.5 0 0 1 0 .708l-8 8a.5.5 0 0 1-.708-.708l8-8a.5.5 0 0 1 .708 0z"/>
    </svg>
  </div>

  <script src="js/browser.js"></script>
  <script src="js/ana.js"></script>
  <script src="js/fubar.js"></script>
  <script src="js/expander.js"></script>
  <script src="js/paypal.js"></script>
</body>
</html>
